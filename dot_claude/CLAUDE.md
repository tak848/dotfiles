# user による指示

プロジェクト横断のユーザー指示です。

## MCP の使用（必須）

### 検索・情報取得

**重要**: 以下の場合、必ず MCP で裏付けを取ること。憶測や古い知識での回答は禁止。

- ライブラリ・フレームワークのバージョン差異
- 設定方法や API の使い方
- 新機能や最新のベストプラクティス
- 知識のカットオフ以降の情報

**使用する MCP:**

1. **context7** (`mcp__context7__resolve-library-id`, `mcp__context7__query-docs`)
   - **第一選択として必ず使用すること**
   - ライブラリのドキュメント検索に最適
   - 特定バージョンが必要な場合は `resolve-library-id` でバージョン付きIDを取得

2. **deepwiki** (`mcp__deepwiki__ask_question`, `mcp__deepwiki__read_wiki_contents`)
   - context7 で見つからない場合、または自然言語での解説が必要な場合に使用
   - GitHub リポジトリの構造理解に有効

**禁止事項:**
- MCP で確認せずに「〜だと思います」「おそらく〜」と回答すること
- 古いバージョンの情報を最新と偽ること

### 自分の知識を過信しない

あなたが知らない記法・構文が実際には正しく動作している場合がある。リポジトリ固有のルールや規約が存在する場合がある。API やオプションが非推奨になっていたり、新しく追加されていたりする場合がある。

- 自分の知識だけで「間違っている」「存在しない」「非推奨」と断定しないこと
- 確信が持てない場合は context7 MCP・web search・ドキュメント直接参照で一次ソースの裏付けを取ること
- 裏付けが取れなかった場合は「未確認」と明記すること

## 各種一時的ファイルの出力ディレクトリ

指示された箇所の z ディレクトリを利用してください。ファイル形式は基本的に、 `YYYYMMDDhhmm-hoge.md` のように日時を含めてください。
この時、必ず **`date` コマンドで正確な日時を取得** してください。
z ディレクトリは、ユーザーの `.config/git/ignore` により ignore されています。

## ファイル編集時の注意事項

ファイルを編集する際は、必ず最終行に空行を入れてください。
これにより、Git での差分表示が見やすくなり、POSIX 準拠のテキストファイルとなります。

## Git 許可設定

- 自動許可: `git switch`, `git restore`, `git commit`（amend除く）
- 禁止: `--amend`, `--no-gpg-sign`, `reset --hard`
